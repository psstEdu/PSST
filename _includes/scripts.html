<script src="{{ site.url }}{{ site.baseurl }}/static/js/jquery-2.1.1.js"></script>
<script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>
{% if page.layout != 'NormalPage' %}
    <script>
    var options = {
      accessibility: true,
      prevNextButtons: true,
      autoPlay:3000,
      pageDots: true,
      setGallerySize: false,
      arrowShape: {
        x0: 10,
        x1: 60,
        y1: 50,
        x2: 60,
        y2: 45,
        x3: 15
      }
    };

    var $carousel = $('[data-carousel]').flickity(options);
    var $slideContent = $('.slide-content');
    var flkty = $carousel.data('flickity');
    var selectedSlide = flkty.selectedElement;

    flkty.on('settle', function(index) {
      selectedSlide = flkty.selectedElement;
    });

    flkty.on('change', function(index) {
      $slideContent.eq(index).removeClass('carousel-mask');

      setTimeout(function() {
        $slideContent.addClass('carousel-mask');
      }, 500);
    });

    flkty.on('dragStart', function(event) {
      var index = 0;
      selectedSlide = flkty.selectedElement;

      if (event.layerX > 0) { // direction right
        index = $(selectedSlide).index() + 1;
      } else { // direction left
        index = $(selectedSlide).index() - 1;
      }

      $slideContent.eq(index).removeClass('carousel-mask');
    });

    setTimeout(function() {
      $slideContent.addClass('carousel-mask');
    }, 500);
    </script>
{% endif %}

<script type="text/javascript" src="{{ site.url }}{{ site.baseurl }}/static/engine1/jquery.js"></script>
<script src="{{ site.url }}{{ site.baseurl }}/static/js/jquery.mobile.custom.min.js"></script>
<script src="{{ site.url }}{{ site.baseurl }}/static/js/main.js"></script><!-- Resource jQuery -->
<script type="text/javascript" src="{{ site.url }}{{ site.baseurl }}/static/engine1/wowslider.js"></script>
<script type="text/javascript" src="{{ site.url }}{{ site.baseurl }}/static/engine1/script.js"></script>
